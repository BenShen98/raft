mix deps.get
Resolving Hex dependencies...
Dependency resolution completed:
Unchanged:
  poison 3.1.0
All dependencies are up to date
mix compile
====RUNNNING WITH CONFIG====
%{append_entries_timeout: 10, client_requests: 1, client_sleep: 5, client_stop: 60000, client_timeout: 500, debug_level: 10, disasters: [%{id: 0, t: 0, type: "timeout"}, %{id: "leader", ref: "a", t: 1000, type: "offline"}, %{id: "leader", ref: "b", t: 1500, type: "crash"}, %{id: "leader", ref: "c", t: 2000, type: "offline"}, %{id: "b", t: 2500, type: "online"}], election_timeout: 100, max_amount: 1000, max_time: 10000, monitorP: #PID<0.179.0>, n_accounts: 100, n_clients: 5, n_servers: 5, node_suffix: "44_ben@127.0.0.1", print_after: 2000, raftP: #PID<0.99.0>, start_function: :multi_node_start}
====   CONFIG    END   ====
11:56:48.525115: 0_FOLLOWER@3: switched to FOLLOWER
11:56:48.525756: 0_FOLLOWER@2: switched to FOLLOWER
11:56:48.526099: 0_FOLLOWER@0: switched to FOLLOWER
11:56:48.526096: 0_FOLLOWER@1: switched to FOLLOWER
11:56:48.527575: 0_FOLLOWER@4: switched to FOLLOWER
Disaster reference name %{"leader" => nil}
11:56:48.543923: 0_FOLLOWER@0: AFFECTED BY timeout
11:56:48.545468: 1_CANDIDATE@0: switched to CANDIDATE
11:56:48.546376: 1_CANDIDATE@0: vote request from 0, true,  -> 0
11:56:48.578190: 0_FOLLOWER@1: Higher term found {:VOTE_REQUEST, %{candidateId: 0, lastLogIndex: 0, lastLogTerm: 0, term: 1}}
11:56:48.580091: 1_FOLLOWER@1: give will: {:VOTE_REQUEST, %{candidateId: 0, lastLogIndex: 0, lastLogTerm: 0, term: 1}}
11:56:48.580381: 1_FOLLOWER@1: switched to FOLLOWER
11:56:48.580746: 1_FOLLOWER@1: vote request from 0, true,  -> 0
11:56:48.582850: 0_FOLLOWER@2: Higher term found {:VOTE_REQUEST, %{candidateId: 0, lastLogIndex: 0, lastLogTerm: 0, term: 1}}
11:56:48.582838: 0_FOLLOWER@3: Higher term found {:VOTE_REQUEST, %{candidateId: 0, lastLogIndex: 0, lastLogTerm: 0, term: 1}}
11:56:48.584129: 0_FOLLOWER@4: Higher term found {:VOTE_REQUEST, %{candidateId: 0, lastLogIndex: 0, lastLogTerm: 0, term: 1}}
11:56:48.584270: 1_FOLLOWER@2: give will: {:VOTE_REQUEST, %{candidateId: 0, lastLogIndex: 0, lastLogTerm: 0, term: 1}}
11:56:48.584347: 1_FOLLOWER@3: give will: {:VOTE_REQUEST, %{candidateId: 0, lastLogIndex: 0, lastLogTerm: 0, term: 1}}
11:56:48.584428: 1_FOLLOWER@2: switched to FOLLOWER
11:56:48.584381: 1_FOLLOWER@4: give will: {:VOTE_REQUEST, %{candidateId: 0, lastLogIndex: 0, lastLogTerm: 0, term: 1}}
11:56:48.584545: 1_FOLLOWER@3: switched to FOLLOWER
11:56:48.584593: 1_FOLLOWER@2: vote request from 0, true,  -> 0
11:56:48.584647: 1_FOLLOWER@4: switched to FOLLOWER
11:56:48.584719: 1_FOLLOWER@3: vote request from 0, true,  -> 0
11:56:48.584847: 1_FOLLOWER@4: vote request from 0, true,  -> 0
11:56:48.593443: 1_LEADER@0: switched to LEADER
Disaster reference name %{"leader" => 0}
Disaster reference name %{"a" => 0, "leader" => 0}
11:56:49.515600: 1_LEADER@0: AFFECTED BY offline
11:56:49.615221: 2_CANDIDATE@2: switched to CANDIDATE
11:56:49.615987: 1_FOLLOWER@1: Higher term found {:VOTE_REQUEST, %{candidateId: 2, lastLogIndex: 0, lastLogTerm: 0, term: 2}}
11:56:49.616294: 2_CANDIDATE@2: vote request from 2, true,  -> 2
11:56:49.616097: 1_FOLLOWER@3: Higher term found {:VOTE_REQUEST, %{candidateId: 2, lastLogIndex: 0, lastLogTerm: 0, term: 2}}
11:56:49.616757: 1_FOLLOWER@4: Higher term found {:VOTE_REQUEST, %{candidateId: 2, lastLogIndex: 0, lastLogTerm: 0, term: 2}}
11:56:49.617988: 2_FOLLOWER@1: give will: {:VOTE_REQUEST, %{candidateId: 2, lastLogIndex: 0, lastLogTerm: 0, term: 2}}
11:56:49.617924: 2_FOLLOWER@3: give will: {:VOTE_REQUEST, %{candidateId: 2, lastLogIndex: 0, lastLogTerm: 0, term: 2}}
11:56:49.618935: 2_FOLLOWER@3: switched to FOLLOWER
11:56:49.618916: 2_FOLLOWER@1: switched to FOLLOWER
11:56:49.619888: 2_FOLLOWER@3: vote request from 2, true,  -> 2
11:56:49.620014: 2_FOLLOWER@1: vote request from 2, true,  -> 2
11:56:49.625361: 2_FOLLOWER@4: give will: {:VOTE_REQUEST, %{candidateId: 2, lastLogIndex: 0, lastLogTerm: 0, term: 2}}
11:56:49.626314: 2_FOLLOWER@4: switched to FOLLOWER
11:56:49.627194: 2_FOLLOWER@4: vote request from 2, true,  -> 2
11:56:49.631664: 2_LEADER@2: switched to LEADER
Disaster reference name %{"a" => 0, "leader" => 2}
Disaster reference name %{"a" => 0, "b" => 2, "leader" => 2}
11:56:50.019311: 2_LEADER@2: AFFECTED BY crash
11:56:50.156832: 3_CANDIDATE@3: switched to CANDIDATE
11:56:50.157035: 2_FOLLOWER@1: Higher term found {:VOTE_REQUEST, %{candidateId: 3, lastLogIndex: 0, lastLogTerm: 0, term: 3}}
11:56:50.157084: 2_FOLLOWER@4: Higher term found {:VOTE_REQUEST, %{candidateId: 3, lastLogIndex: 0, lastLogTerm: 0, term: 3}}
11:56:50.157146: 3_CANDIDATE@3: vote request from 3, true,  -> 3
11:56:50.157378: 3_FOLLOWER@1: give will: {:VOTE_REQUEST, %{candidateId: 3, lastLogIndex: 0, lastLogTerm: 0, term: 3}}
11:56:50.157561: 3_FOLLOWER@4: give will: {:VOTE_REQUEST, %{candidateId: 3, lastLogIndex: 0, lastLogTerm: 0, term: 3}}
11:56:50.157611: 3_FOLLOWER@1: switched to FOLLOWER
11:56:50.157891: 3_FOLLOWER@4: switched to FOLLOWER
11:56:50.157923: 3_FOLLOWER@1: vote request from 3, true,  -> 3
11:56:50.158116: 3_FOLLOWER@4: vote request from 3, true,  -> 3
11:56:50.160668: 3_LEADER@3: switched to LEADER
Disaster reference name %{"a" => 0, "b" => 2, "leader" => 3}
time = 2000      db updates done = []
time = 2000 client requests seen = []
time = 2000        server roles  = %{0 => {1, :LEADER}, 1 => {3, :FOLLOWER}, 2 => {2, :LEADER}, 3 => {3, :LEADER}, 4 => {3, :FOLLOWER}}
time = 2000           total seen = 0 max lag = 0

Disaster reference name %{"a" => 0, "b" => 2, "c" => 3, "leader" => 3}
11:56:50.519732: 3_LEADER@3: AFFECTED BY offline
11:56:50.621920: 4_CANDIDATE@4: switched to CANDIDATE
11:56:50.622827: 4_CANDIDATE@4: vote request from 4, true,  -> 4
11:56:50.622706: 3_FOLLOWER@1: Higher term found {:VOTE_REQUEST, %{candidateId: 4, lastLogIndex: 0, lastLogTerm: 0, term: 4}}
11:56:50.624571: 4_FOLLOWER@1: give will: {:VOTE_REQUEST, %{candidateId: 4, lastLogIndex: 0, lastLogTerm: 0, term: 4}}
11:56:50.625602: 4_FOLLOWER@1: switched to FOLLOWER
11:56:50.626541: 4_FOLLOWER@1: vote request from 4, true,  -> 4
11:56:50.724081: 5_CANDIDATE@4: switched to CANDIDATE
11:56:50.724834: 4_FOLLOWER@1: Higher term found {:VOTE_REQUEST, %{candidateId: 4, lastLogIndex: 0, lastLogTerm: 0, term: 5}}
11:56:50.725081: 5_CANDIDATE@4: vote request from 4, true,  -> 4
11:56:50.725673: 5_FOLLOWER@1: give will: {:VOTE_REQUEST, %{candidateId: 4, lastLogIndex: 0, lastLogTerm: 0, term: 5}}
11:56:50.726625: 5_FOLLOWER@1: switched to FOLLOWER
11:56:50.727472: 5_FOLLOWER@1: vote request from 4, true,  -> 4
11:56:50.854443: 6_CANDIDATE@4: switched to CANDIDATE
11:56:50.854770: 6_CANDIDATE@4: vote request from 4, true,  -> 4
11:56:50.854868: 5_FOLLOWER@1: Higher term found {:VOTE_REQUEST, %{candidateId: 4, lastLogIndex: 0, lastLogTerm: 0, term: 6}}
11:56:50.855137: 6_FOLLOWER@1: give will: {:VOTE_REQUEST, %{candidateId: 4, lastLogIndex: 0, lastLogTerm: 0, term: 6}}
11:56:50.855316: 6_FOLLOWER@1: switched to FOLLOWER
11:56:50.855673: 6_FOLLOWER@1: vote request from 4, true,  -> 4
11:56:50.986199: 7_CANDIDATE@1: switched to CANDIDATE
11:56:50.986894: 7_CANDIDATE@1: vote request from 1, true,  -> 1
11:56:50.986846: 6_CANDIDATE@4: Higher term found {:VOTE_REQUEST, %{candidateId: 1, lastLogIndex: 0, lastLogTerm: 0, term: 7}}
11:56:50.988306: 7_FOLLOWER@4: give will: {:VOTE_REQUEST, %{candidateId: 1, lastLogIndex: 0, lastLogTerm: 0, term: 7}}
11:56:50.988975: 7_FOLLOWER@4: switched to FOLLOWER
11:56:50.989530: 7_FOLLOWER@4: vote request from 1, true,  -> 1
Disaster reference name %{"a" => 0, "b" => 2, "c" => 3, "leader" => 3}
11:56:51.016420: 0_FOLLOWER@2: AFFECTED BY online
11:56:51.016827: 0_FOLLOWER@2: switched to FOLLOWER
11:56:51.123818: 1_CANDIDATE@2: switched to CANDIDATE
11:56:51.124080: 1_CANDIDATE@2: vote request from 2, true,  -> 2
11:56:51.124284: 1_CANDIDATE@2: Higher term found {:VOTE_REPLY, %{term: 7, voteGranted: false}}
11:56:51.124520: 7_FOLLOWER@2: switched to FOLLOWER
11:56:51.177987: 8_CANDIDATE@1: switched to CANDIDATE
11:56:51.178814: 7_FOLLOWER@2: Higher term found {:VOTE_REQUEST, %{candidateId: 1, lastLogIndex: 0, lastLogTerm: 0, term: 8}}
11:56:51.178929: 8_CANDIDATE@1: vote request from 1, true,  -> 1
11:56:51.178855: 7_FOLLOWER@4: Higher term found {:VOTE_REQUEST, %{candidateId: 1, lastLogIndex: 0, lastLogTerm: 0, term: 8}}
11:56:51.180003: 8_FOLLOWER@2: give will: {:VOTE_REQUEST, %{candidateId: 1, lastLogIndex: 0, lastLogTerm: 0, term: 8}}
11:56:51.180243: 8_FOLLOWER@4: give will: {:VOTE_REQUEST, %{candidateId: 1, lastLogIndex: 0, lastLogTerm: 0, term: 8}}
11:56:51.181189: 8_FOLLOWER@2: switched to FOLLOWER
11:56:51.181428: 8_FOLLOWER@4: switched to FOLLOWER
11:56:51.182236: 8_FOLLOWER@2: vote request from 1, true,  -> 1
11:56:51.182703: 8_FOLLOWER@4: vote request from 1, true,  -> 1
11:56:51.192166: 8_LEADER@1: switched to LEADER
Disaster reference name %{"a" => 0, "b" => 2, "c" => 3, "leader" => 1}
time = 4000      db updates done = []
time = 4000 client requests seen = []
time = 4000        server roles  = %{0 => {1, :LEADER}, 1 => {8, :LEADER}, 2 => {8, :FOLLOWER}, 3 => {3, :LEADER}, 4 => {8, :FOLLOWER}}
time = 4000           total seen = 0 max lag = 0

time = 6000      db updates done = []
time = 6000 client requests seen = []
time = 6000        server roles  = %{0 => {1, :LEADER}, 1 => {8, :LEADER}, 2 => {8, :FOLLOWER}, 3 => {3, :LEADER}, 4 => {8, :FOLLOWER}}
time = 6000           total seen = 0 max lag = 0

time = 8000      db updates done = []
time = 8000 client requests seen = []
time = 8000        server roles  = %{0 => {1, :LEADER}, 1 => {8, :LEADER}, 2 => {8, :FOLLOWER}, 3 => {3, :LEADER}, 4 => {8, :FOLLOWER}}
time = 8000           total seen = 0 max lag = 0

Exiting server3_44_ben@127.0.0.1
Exiting server4_44_ben@127.0.0.1
Exiting server1_44_ben@127.0.0.1
Exiting client0_44_ben@127.0.0.1
Exiting client4_44_ben@127.0.0.1
Exiting server2_44_ben@127.0.0.1
Exiting client1_44_ben@127.0.0.1
Exiting client3_44_ben@127.0.0.1
Exiting client2_44_ben@127.0.0.1
Exiting server0_44_ben@127.0.0.1
Exiting raft_44_ben@127.0.0.1
time = 10000      db updates done = []
time = 10000 client requests seen = []
time = 10000        server roles  = %{0 => {1, :LEADER}, 1 => {8, :LEADER}, 2 => {8, :FOLLOWER}, 3 => {3, :LEADER}, 4 => {8, :FOLLOWER}}
time = 10000           total seen = 0 max lag = 0

