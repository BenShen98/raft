mix deps.get
Resolving Hex dependencies...
Dependency resolution completed:
Unchanged:
  poison 3.1.0
All dependencies are up to date
mix compile

====RUNNNING WITH CONFIG====
%{append_entries_timeout: 10, client_requests: 100, client_sleep: 5, client_stop: 60000, client_timeout: 500, debug_level: 10, disasters: [%{id: 0, t: 0, type: "timeout"}, %{id: "leader", ref: "a", t: 1000, type: "offline"}, %{id: "leader", ref: "b", t: 1500, type: "crash"}, %{id: "leader", ref: "c", t: 2000, type: "offline"}, %{id: "b", t: 2500, type: "online"}], election_timeout: 100, max_amount: 1000, max_time: 10000, monitorP: #PID<0.178.0>, n_accounts: 100, n_clients: 0, n_servers: 5, node_suffix: "24_jc5616@127.0.0.1", print_after: 2000, raftP: #PID<0.98.0>, show_role_switch: true, show_server: false, start_function: :multi_node_start}
====   CONFIG    END   ====

Disaster reference name %{"leader" => nil}

10:26:27.732 [warn]  ** Can not start Client::start,[%{append_entries_timeout: 10, client_requests: 100, client_sleep: 5, client_stop: 60000, client_timeout: 500, debug_level: 10, disasters: [%{id: 0, t: 0, type: "timeout"}, %{id: "leader", ref: "a", t: 1000, type: "offline"}, %{id: "leader", ref: "b", t: 1500, type: "crash"}, %{id: "leader", ref: "c", t: 2000, type: "offline"}, %{id: "b", t: 2500, type: "online"}], election_timeout: 100, max_amount: 1000, max_time: 10000, monitorP: #PID<0.178.0>, n_accounts: 100, n_clients: 0, n_servers: 5, node_suffix: "24_jc5616@127.0.0.1", print_after: 2000, raftP: #PID<0.98.0>, show_role_switch: true, show_server: false, start_function: :multi_node_start}, -1, [#PID<17594.183.0>, #PID<17676.183.0>, #PID<17677.183.0>, #PID<17678.183.0>, #PID<17679.183.0>]] on :"client-1_24_jc5616@127.0.0.1" **


10:26:27.732 [warn]  ** Can not start Client::start,[%{append_entries_timeout: 10, client_requests: 100, client_sleep: 5, client_stop: 60000, client_timeout: 500, debug_level: 10, disasters: [%{id: 0, t: 0, type: "timeout"}, %{id: "leader", ref: "a", t: 1000, type: "offline"}, %{id: "leader", ref: "b", t: 1500, type: "crash"}, %{id: "leader", ref: "c", t: 2000, type: "offline"}, %{id: "b", t: 2500, type: "online"}], election_timeout: 100, max_amount: 1000, max_time: 10000, monitorP: #PID<0.178.0>, n_accounts: 100, n_clients: 0, n_servers: 5, node_suffix: "24_jc5616@127.0.0.1", print_after: 2000, raftP: #PID<0.98.0>, show_role_switch: true, show_server: false, start_function: :multi_node_start}, 0, [#PID<17594.183.0>, #PID<17676.183.0>, #PID<17677.183.0>, #PID<17678.183.0>, #PID<17679.183.0>]] on :"client0_24_jc5616@127.0.0.1" **

10:26:27.736093: 0_FOLLOWER@4: switched to FOLLOWER
10:26:27.736744: 0_FOLLOWER@2: switched to FOLLOWER
10:26:27.735418: 0_FOLLOWER@3: switched to FOLLOWER
10:26:27.737328: 0_FOLLOWER@0: switched to FOLLOWER
10:26:27.738060: 0_FOLLOWER@1: switched to FOLLOWER
10:26:27.739705: 0_FOLLOWER@0: AFFECTED BY timeout
10:26:27.740687: 1_CANDIDATE@0: switched to CANDIDATE
10:26:27.740769: 1_CANDIDATE@0: vote request from 0, true,  -> 0
10:26:27.756414: 0_FOLLOWER@1: Higher term found {:VOTE_REQUEST, %{candidateId: 0, lastLogIndex: 0, lastLogTerm: 0, term: 1}}
10:26:27.757167: 1_FOLLOWER@1: give will: {:VOTE_REQUEST, %{candidateId: 0, lastLogIndex: 0, lastLogTerm: 0, term: 1}}
10:26:27.757267: 1_FOLLOWER@1: switched to FOLLOWER
10:26:27.757362: 1_FOLLOWER@1: vote request from 0, true,  -> 0
10:26:27.757578: 0_FOLLOWER@3: Higher term found {:VOTE_REQUEST, %{candidateId: 0, lastLogIndex: 0, lastLogTerm: 0, term: 1}}
10:26:27.757835: 0_FOLLOWER@4: Higher term found {:VOTE_REQUEST, %{candidateId: 0, lastLogIndex: 0, lastLogTerm: 0, term: 1}}
10:26:27.757889: 1_FOLLOWER@3: give will: {:VOTE_REQUEST, %{candidateId: 0, lastLogIndex: 0, lastLogTerm: 0, term: 1}}
10:26:27.757937: 1_FOLLOWER@4: give will: {:VOTE_REQUEST, %{candidateId: 0, lastLogIndex: 0, lastLogTerm: 0, term: 1}}
10:26:27.757957: 1_FOLLOWER@3: switched to FOLLOWER
10:26:27.757999: 1_FOLLOWER@4: switched to FOLLOWER
10:26:27.758039: 1_FOLLOWER@3: vote request from 0, true,  -> 0
10:26:27.758074: 1_FOLLOWER@4: vote request from 0, true,  -> 0
10:26:27.764097: 0_FOLLOWER@2: Higher term found {:VOTE_REQUEST, %{candidateId: 0, lastLogIndex: 0, lastLogTerm: 0, term: 1}}
10:26:27.764312: 1_FOLLOWER@2: give will: {:VOTE_REQUEST, %{candidateId: 0, lastLogIndex: 0, lastLogTerm: 0, term: 1}}
10:26:27.764409: 1_FOLLOWER@2: switched to FOLLOWER
10:26:27.764488: 1_FOLLOWER@2: vote request from 0, true,  -> 0
10:26:27.765199: 1_LEADER@0: switched to LEADER
Disaster reference name %{"leader" => 0}
Disaster reference name %{"a" => 0, "leader" => 0}
10:26:28.728464: 1_LEADER@0: AFFECTED BY offline
10:26:28.843862: 2_CANDIDATE@2: switched to CANDIDATE
10:26:28.844290: 1_FOLLOWER@1: Higher term found {:VOTE_REQUEST, %{candidateId: 2, lastLogIndex: 0, lastLogTerm: 0, term: 2}}
10:26:28.844375: 1_FOLLOWER@3: Higher term found {:VOTE_REQUEST, %{candidateId: 2, lastLogIndex: 0, lastLogTerm: 0, term: 2}}
10:26:28.844337: 1_FOLLOWER@4: Higher term found {:VOTE_REQUEST, %{candidateId: 2, lastLogIndex: 0, lastLogTerm: 0, term: 2}}
10:26:28.844453: 2_CANDIDATE@2: vote request from 2, true,  -> 2
10:26:28.844984: 2_FOLLOWER@3: give will: {:VOTE_REQUEST, %{candidateId: 2, lastLogIndex: 0, lastLogTerm: 0, term: 2}}
10:26:28.844997: 2_FOLLOWER@4: give will: {:VOTE_REQUEST, %{candidateId: 2, lastLogIndex: 0, lastLogTerm: 0, term: 2}}
10:26:28.845064: 2_FOLLOWER@3: switched to FOLLOWER
10:26:28.845095: 2_FOLLOWER@1: give will: {:VOTE_REQUEST, %{candidateId: 2, lastLogIndex: 0, lastLogTerm: 0, term: 2}}
10:26:28.845089: 2_FOLLOWER@4: switched to FOLLOWER
10:26:28.845143: 2_FOLLOWER@3: vote request from 2, true,  -> 2
10:26:28.845176: 2_FOLLOWER@1: switched to FOLLOWER
10:26:28.845211: 2_FOLLOWER@4: vote request from 2, true,  -> 2
10:26:28.845291: 2_FOLLOWER@1: vote request from 2, true,  -> 2
10:26:28.847483: 2_LEADER@2: switched to LEADER
Disaster reference name %{"a" => 0, "leader" => 2}
Disaster reference name %{"a" => 0, "b" => 2, "leader" => 2}
10:26:29.231823: 2_LEADER@2: AFFECTED BY crash
10:26:29.232375: DATABASE@2: restart due to diaster crash happened to server, wipeed storage
10:26:29.367550: 3_CANDIDATE@3: switched to CANDIDATE
10:26:29.368043: 3_CANDIDATE@3: vote request from 3, true,  -> 3
10:26:29.368050: 2_FOLLOWER@4: Higher term found {:VOTE_REQUEST, %{candidateId: 3, lastLogIndex: 0, lastLogTerm: 0, term: 3}}
10:26:29.368059: 2_FOLLOWER@1: Higher term found {:VOTE_REQUEST, %{candidateId: 3, lastLogIndex: 0, lastLogTerm: 0, term: 3}}
10:26:29.368790: 3_FOLLOWER@1: give will: {:VOTE_REQUEST, %{candidateId: 3, lastLogIndex: 0, lastLogTerm: 0, term: 3}}
10:26:29.368797: 3_FOLLOWER@4: give will: {:VOTE_REQUEST, %{candidateId: 3, lastLogIndex: 0, lastLogTerm: 0, term: 3}}
10:26:29.369379: 3_FOLLOWER@1: switched to FOLLOWER
10:26:29.369429: 3_FOLLOWER@4: switched to FOLLOWER
10:26:29.369962: 3_FOLLOWER@1: vote request from 3, true,  -> 3
10:26:29.370018: 3_FOLLOWER@4: vote request from 3, true,  -> 3
10:26:29.376931: 3_LEADER@3: switched to LEADER
Disaster reference name %{"a" => 0, "b" => 2, "leader" => 3}
time = 2000      db updates done = []
time = 2000 client requests seen = [], (when the node was leader)
time = 2000        server roles  = %{0 => {1, :LEADER}, 1 => {3, :FOLLOWER}, 2 => {2, :LEADER}, 3 => {3, :LEADER}, 4 => {3, :FOLLOWER}}
time = 2000           total seen = 0 max lag = 0
Disaster reference name %{"a" => 0, "b" => 2, "c" => 3, "leader" => 3}
10:26:29.732111: 3_LEADER@3: AFFECTED BY offline
10:26:29.851155: 4_CANDIDATE@4: switched to CANDIDATE
10:26:29.851649: 3_FOLLOWER@1: Higher term found {:VOTE_REQUEST, %{candidateId: 4, lastLogIndex: 0, lastLogTerm: 0, term: 4}}
10:26:29.851720: 4_CANDIDATE@4: vote request from 4, true,  -> 4
10:26:29.852361: 4_FOLLOWER@1: give will: {:VOTE_REQUEST, %{candidateId: 4, lastLogIndex: 0, lastLogTerm: 0, term: 4}}
10:26:29.852713: 4_FOLLOWER@1: switched to FOLLOWER
10:26:29.853146: 4_FOLLOWER@1: vote request from 4, true,  -> 4
10:26:29.983561: 5_CANDIDATE@4: switched to CANDIDATE
10:26:29.984105: 5_CANDIDATE@4: vote request from 4, true,  -> 4
10:26:29.984126: 4_FOLLOWER@1: Higher term found {:VOTE_REQUEST, %{candidateId: 4, lastLogIndex: 0, lastLogTerm: 0, term: 5}}
10:26:29.984852: 5_FOLLOWER@1: give will: {:VOTE_REQUEST, %{candidateId: 4, lastLogIndex: 0, lastLogTerm: 0, term: 5}}
10:26:29.985390: 5_FOLLOWER@1: switched to FOLLOWER
10:26:29.985805: 5_FOLLOWER@1: vote request from 4, true,  -> 4
10:26:30.085447: 6_CANDIDATE@4: switched to CANDIDATE
10:26:30.085971: 6_CANDIDATE@4: vote request from 4, true,  -> 4
10:26:30.085987: 5_FOLLOWER@1: Higher term found {:VOTE_REQUEST, %{candidateId: 4, lastLogIndex: 0, lastLogTerm: 0, term: 6}}
10:26:30.086700: 6_FOLLOWER@1: give will: {:VOTE_REQUEST, %{candidateId: 4, lastLogIndex: 0, lastLogTerm: 0, term: 6}}
10:26:30.087175: 6_FOLLOWER@1: switched to FOLLOWER
10:26:30.087637: 6_FOLLOWER@1: vote request from 4, true,  -> 4
10:26:30.218451: 7_CANDIDATE@4: switched to CANDIDATE
10:26:30.219032: 7_CANDIDATE@4: vote request from 4, true,  -> 4
10:26:30.219175: 6_FOLLOWER@1: Higher term found {:VOTE_REQUEST, %{candidateId: 4, lastLogIndex: 0, lastLogTerm: 0, term: 7}}
10:26:30.219831: 7_FOLLOWER@1: give will: {:VOTE_REQUEST, %{candidateId: 4, lastLogIndex: 0, lastLogTerm: 0, term: 7}}
10:26:30.220319: 7_FOLLOWER@1: switched to FOLLOWER
10:26:30.220785: 7_FOLLOWER@1: vote request from 4, true,  -> 4
Disaster reference name %{"a" => 0, "b" => 2, "c" => 3, "leader" => 3}
10:26:30.228472: 0_FOLLOWER@2: AFFECTED BY online
10:26:30.228980: 0_FOLLOWER@2: switched to FOLLOWER
10:26:30.344931: 1_CANDIDATE@2: switched to CANDIDATE
10:26:30.345577: 1_CANDIDATE@2: vote request from 2, true,  -> 2
10:26:30.346131: 1_CANDIDATE@2: Higher term found {:VOTE_REPLY, %{term: 7, voteGranted: false}}
10:26:30.346733: 7_FOLLOWER@2: switched to FOLLOWER
10:26:30.411396: 8_CANDIDATE@4: switched to CANDIDATE
10:26:30.411956: 8_CANDIDATE@4: vote request from 4, true,  -> 4
10:26:30.412062: 7_FOLLOWER@2: Higher term found {:VOTE_REQUEST, %{candidateId: 4, lastLogIndex: 0, lastLogTerm: 0, term: 8}}
10:26:30.412071: 7_FOLLOWER@1: Higher term found {:VOTE_REQUEST, %{candidateId: 4, lastLogIndex: 0, lastLogTerm: 0, term: 8}}
10:26:30.412818: 8_FOLLOWER@2: give will: {:VOTE_REQUEST, %{candidateId: 4, lastLogIndex: 0, lastLogTerm: 0, term: 8}}
10:26:30.412819: 8_FOLLOWER@1: give will: {:VOTE_REQUEST, %{candidateId: 4, lastLogIndex: 0, lastLogTerm: 0, term: 8}}
10:26:30.413309: 8_FOLLOWER@2: switched to FOLLOWER
10:26:30.413530: 8_FOLLOWER@1: switched to FOLLOWER
10:26:30.413749: 8_FOLLOWER@2: vote request from 4, true,  -> 4
10:26:30.413946: 8_FOLLOWER@1: vote request from 4, true,  -> 4
10:26:30.417996: 8_LEADER@4: switched to LEADER
Disaster reference name %{"a" => 0, "b" => 2, "c" => 3, "leader" => 4}
time = 4000      db updates done = []
time = 4000 client requests seen = [], (when the node was leader)
time = 4000        server roles  = %{0 => {1, :LEADER}, 1 => {8, :FOLLOWER}, 2 => {8, :FOLLOWER}, 3 => {3, :LEADER}, 4 => {8, :LEADER}}
time = 4000           total seen = 0 max lag = 0
time = 6000      db updates done = []
time = 6000 client requests seen = [], (when the node was leader)
time = 6000        server roles  = %{0 => {1, :LEADER}, 1 => {8, :FOLLOWER}, 2 => {8, :FOLLOWER}, 3 => {3, :LEADER}, 4 => {8, :LEADER}}
time = 6000           total seen = 0 max lag = 0
time = 8000      db updates done = []
time = 8000 client requests seen = [], (when the node was leader)
time = 8000        server roles  = %{0 => {1, :LEADER}, 1 => {8, :FOLLOWER}, 2 => {8, :FOLLOWER}, 3 => {3, :LEADER}, 4 => {8, :LEADER}}
time = 8000           total seen = 0 max lag = 0
Exiting server1_24_jc5616@127.0.0.1
Exiting server4_24_jc5616@127.0.0.1
Exiting server3_24_jc5616@127.0.0.1
Exiting server0_24_jc5616@127.0.0.1
Exiting server2_24_jc5616@127.0.0.1
Exiting raft_24_jc5616@127.0.0.1
time = 10000      db updates done = []
time = 10000 client requests seen = [], (when the node was leader)
time = 10000        server roles  = %{0 => {1, :LEADER}, 1 => {8, :FOLLOWER}, 2 => {8, :FOLLOWER}, 3 => {3, :LEADER}, 4 => {8, :LEADER}}
time = 10000           total seen = 0 max lag = 0
