mix deps.get
Resolving Hex dependencies...
Dependency resolution completed:
Unchanged:
  poison 3.1.0
All dependencies are up to date
mix compile

====RUNNNING WITH CONFIG====
%{append_entries_timeout: 10, client_requests: 100, client_sleep: 5, client_stop: 60000, client_timeout: 500, debug_level: 30, disasters: [%{id: 0, ref: "a", t: 500, type: "timeout"}, %{id: "a", t: 1000, type: "offline"}, %{id: 1, ref: "b", t: 1010, type: "timeout"}, %{id: "b", t: 1500, type: "crash"}, %{id: 2, ref: "c", t: 1510, type: "timeout"}, %{id: "c", t: 2000, type: "offline"}, %{id: "b", t: 2100, type: "online"}], election_timeout: 100, max_amount: 1000, max_time: 15000, monitorP: #PID<0.178.0>, n_accounts: 100, n_clients: 2, n_servers: 5, node_suffix: "54_jc5616@127.0.0.1", print_after: 1000, raftP: #PID<0.98.0>, show_role_switch: false, show_server: false, start_function: :multi_node_start}
====   CONFIG    END   ====

15:56:57.978078: 2_LEADER@3: switched to LEADER
Disaster reference name %{"leader" => 3}
Disaster reference name %{"a" => 0, "leader" => 3}
15:56:58.212036: 2_FOLLOWER@0: AFFECTED BY timeout
15:56:58.224685: 3_LEADER@0: switched to LEADER
Disaster reference name %{"a" => 0, "leader" => 0}
time = 1000      db updates done = [{0, 40}, {1, 39}, {2, 39}, {3, 39}, {4, 40}]
time = 1000 client requests seen = [{0, 41}], (when the node was leader)
time = 1000        server roles  = %{0 => {3, :LEADER}, 1 => {3, :FOLLOWER}, 2 => {3, :FOLLOWER}, 3 => {3, :FOLLOWER}, 4 => {3, :FOLLOWER}}
time = 1000           total seen = 41 max lag = 2
Disaster reference name %{"a" => 0, "leader" => 0}
15:56:58.705610: 3_LEADER@0: AFFECTED BY offline
Disaster reference name %{"a" => 0, "b" => 1, "leader" => 0}
15:56:58.721269: 3_FOLLOWER@1: AFFECTED BY timeout
15:56:58.733691: 4_LEADER@1: switched to LEADER
Disaster reference name %{"a" => 0, "b" => 1, "leader" => 1}
15:56:58.749403: CLIENT 0: expecting {0, 44} reply, get {0, 43}
Disaster reference name %{"a" => 0, "b" => 1, "leader" => 1}
15:56:59.205494: 4_LEADER@1: AFFECTED BY crash
15:56:59.205962: DATABASE@1: restart due to diaster crash happened to server, wipeed storage
Disaster reference name %{"a" => 0, "b" => 1, "c" => 2, "leader" => 1}
15:56:59.221583: 4_FOLLOWER@2: AFFECTED BY timeout
15:56:59.231195: 5_LEADER@2: switched to LEADER
Disaster reference name %{"a" => 0, "b" => 1, "c" => 2, "leader" => 2}
time = 2000      db updates done = [{0, 43}, {1, 85}, {2, 84}, {3, 84}, {4, 84}]
time = 2000 client requests seen = [{0, 43}, {1, 44}], (when the node was leader)
time = 2000        server roles  = %{0 => {3, :LEADER}, 1 => {4, :LEADER}, 2 => {5, :LEADER}, 3 => {5, :FOLLOWER}, 4 => {5, :FOLLOWER}}
time = 2000           total seen = 87 max lag = 44
Disaster reference name %{"a" => 0, "b" => 1, "c" => 2, "leader" => 2}
15:56:59.705417: 5_LEADER@2: AFFECTED BY offline
15:56:59.709464: CLIENT 1: expecting {1, 23} reply, get {1, 22}
Disaster reference name %{"a" => 0, "b" => 1, "c" => 2, "leader" => 2}
15:56:59.805873: 0_FOLLOWER@1: AFFECTED BY online
15:56:59.880323: 6_LEADER@3: switched to LEADER
Disaster reference name %{"a" => 0, "b" => 1, "c" => 2, "leader" => 3}
time = 3000      db updates done = [{0, 43}, {1, 85}, {2, 86}, {3, 84}, {4, 84}]
time = 3000 client requests seen = [{0, 43}, {1, 44}, {2, 1}, {3, 2}], (when the node was leader)
time = 3000        server roles  = %{0 => {3, :LEADER}, 1 => {6, :FOLLOWER}, 2 => {5, :LEADER}, 3 => {6, :LEADER}, 4 => {6, :FOLLOWER}}
time = 3000           total seen = 90 max lag = 47

15:57:00.833 [error] Process #PID<0.178.0> on node :"raft_54_jc5616@127.0.0.1" raised an exception
** (RuntimeError) HALT: monitor:   ** error DATEBASE@1: seq 1 expecting 86
    (raft 0.1.0) lib/monitor.ex:62: Monitor.halt/1
    (raft 0.1.0) lib/monitor.ex:118: Monitor.next/1
15:57:01.773625: CLIENT 1: expecting {1, 26} reply, get {1, 22}
15:57:01.773650: CLIENT 0: expecting {0, 66} reply, get {0, 64}
15:57:01.774245: CLIENT 1: expecting {1, 26} reply, get {1, 23}
15:57:01.780849: CLIENT 1: expecting {1, 27} reply, get {1, 26}
15:57:01.787793: CLIENT 1: expecting {1, 28} reply, get {1, 24}
15:57:01.795727: CLIENT 0: expecting {0, 67} reply, get {0, 65}
15:57:01.806771: CLIENT 1: expecting {1, 29} reply, get {1, 25}
15:57:01.817375: CLIENT 0: expecting {0, 68} reply, get {0, 66}
15:57:01.828420: CLIENT 1: expecting {1, 30} reply, get {1, 26}
15:57:01.839486: CLIENT 0: expecting {0, 69} reply, get {0, 67}
15:57:01.850775: CLIENT 1: expecting {1, 31} reply, get {1, 27}
15:57:01.861108: CLIENT 1: expecting {1, 32} reply, get {1, 28}
15:57:01.872528: CLIENT 1: expecting {1, 33} reply, get {1, 29}
15:57:01.883626: CLIENT 0: expecting {0, 70} reply, get {0, 68}
15:57:01.894587: CLIENT 1: expecting {1, 34} reply, get {1, 30}
15:57:01.905170: CLIENT 0: expecting {0, 71} reply, get {0, 69}
15:57:01.916466: CLIENT 1: expecting {1, 35} reply, get {1, 31}
15:57:01.927501: CLIENT 0: expecting {0, 72} reply, get {0, 70}
15:57:01.938287: CLIENT 1: expecting {1, 36} reply, get {1, 32}
15:57:01.949319: CLIENT 1: expecting {1, 37} reply, get {1, 33}
15:57:01.960576: CLIENT 1: expecting {1, 38} reply, get {1, 34}
15:57:01.971509: CLIENT 0: expecting {0, 73} reply, get {0, 71}
15:57:01.982487: CLIENT 1: expecting {1, 39} reply, get {1, 35}
15:57:01.993342: CLIENT 0: expecting {0, 74} reply, get {0, 72}
15:57:02.004576: CLIENT 1: expecting {1, 40} reply, get {1, 36}
15:57:02.015487: CLIENT 0: expecting {0, 75} reply, get {0, 73}
15:57:02.026598: CLIENT 1: expecting {1, 41} reply, get {1, 37}
15:57:02.037211: CLIENT 1: expecting {1, 42} reply, get {1, 38}
15:57:02.048341: CLIENT 1: expecting {1, 43} reply, get {1, 39}
15:57:02.059509: CLIENT 0: expecting {0, 76} reply, get {0, 74}
15:57:02.070568: CLIENT 1: expecting {1, 44} reply, get {1, 40}
15:57:02.081427: CLIENT 0: expecting {0, 77} reply, get {0, 75}
15:57:02.092555: CLIENT 1: expecting {1, 45} reply, get {1, 41}
15:57:02.103277: CLIENT 0: expecting {0, 78} reply, get {0, 76}
15:57:02.114513: CLIENT 1: expecting {1, 46} reply, get {1, 42}
15:57:02.125187: CLIENT 1: expecting {1, 47} reply, get {1, 43}
15:57:02.136646: CLIENT 1: expecting {1, 48} reply, get {1, 44}
15:57:02.147656: CLIENT 0: expecting {0, 79} reply, get {0, 77}
15:57:02.158202: CLIENT 1: expecting {1, 49} reply, get {1, 45}
15:57:02.169578: CLIENT 0: expecting {0, 80} reply, get {0, 78}
15:57:02.180372: CLIENT 1: expecting {1, 50} reply, get {1, 46}
15:57:02.191518: CLIENT 0: expecting {0, 81} reply, get {0, 79}
15:57:02.202567: CLIENT 1: expecting {1, 51} reply, get {1, 47}
15:57:02.213349: CLIENT 1: expecting {1, 52} reply, get {1, 48}
15:57:02.224484: CLIENT 1: expecting {1, 53} reply, get {1, 49}
15:57:02.235350: CLIENT 0: expecting {0, 82} reply, get {0, 80}
15:57:02.246258: CLIENT 1: expecting {1, 54} reply, get {1, 50}
15:57:02.257269: CLIENT 0: expecting {0, 83} reply, get {0, 81}
15:57:02.268178: CLIENT 1: expecting {1, 55} reply, get {1, 51}
15:57:02.279226: CLIENT 0: expecting {0, 84} reply, get {0, 82}
15:57:02.290128: CLIENT 1: expecting {1, 56} reply, get {1, 52}
15:57:02.300914: CLIENT 1: expecting {1, 57} reply, get {1, 53}
15:57:02.312113: CLIENT 1: expecting {1, 58} reply, get {1, 54}
15:57:02.323220: CLIENT 0: expecting {0, 85} reply, get {0, 83}
15:57:02.334409: CLIENT 1: expecting {1, 59} reply, get {1, 55}
15:57:02.345137: CLIENT 0: expecting {0, 86} reply, get {0, 84}
15:57:02.356624: CLIENT 1: expecting {1, 60} reply, get {1, 56}
15:57:02.367427: CLIENT 0: expecting {0, 87} reply, get {0, 85}
15:57:02.378355: CLIENT 1: expecting {1, 61} reply, get {1, 57}
15:57:02.389218: CLIENT 1: expecting {1, 62} reply, get {1, 58}
15:57:02.400277: CLIENT 1: expecting {1, 63} reply, get {1, 59}
15:57:02.411445: CLIENT 0: expecting {0, 88} reply, get {0, 86}
15:57:02.421959: CLIENT 1: expecting {1, 64} reply, get {1, 60}
15:57:02.433241: CLIENT 0: expecting {0, 89} reply, get {0, 87}
15:57:02.444109: CLIENT 1: expecting {1, 65} reply, get {1, 61}
15:57:02.455250: CLIENT 0: expecting {0, 90} reply, get {0, 88}
15:57:02.466405: CLIENT 1: expecting {1, 66} reply, get {1, 62}
15:57:02.477043: CLIENT 1: expecting {1, 67} reply, get {1, 63}
15:57:02.488393: CLIENT 1: expecting {1, 68} reply, get {1, 64}
15:57:02.499508: CLIENT 0: expecting {0, 91} reply, get {0, 89}
15:57:02.510418: CLIENT 1: expecting {1, 69} reply, get {1, 65}
15:57:02.521128: CLIENT 0: expecting {0, 92} reply, get {0, 90}
15:57:02.532459: CLIENT 1: expecting {1, 70} reply, get {1, 66}
15:57:02.543349: CLIENT 0: expecting {0, 93} reply, get {0, 91}
15:57:02.554414: CLIENT 1: expecting {1, 71} reply, get {1, 67}
15:57:02.565108: CLIENT 1: expecting {1, 72} reply, get {1, 68}
15:57:02.576027: CLIENT 1: expecting {1, 73} reply, get {1, 69}
15:57:02.587611: CLIENT 0: expecting {0, 94} reply, get {0, 92}
15:57:02.598412: CLIENT 1: expecting {1, 74} reply, get {1, 70}
15:57:02.609295: CLIENT 0: expecting {0, 95} reply, get {0, 93}
15:57:02.620406: CLIENT 1: expecting {1, 75} reply, get {1, 71}
15:57:02.631437: CLIENT 0: expecting {0, 96} reply, get {0, 94}
15:57:02.642509: CLIENT 1: expecting {1, 76} reply, get {1, 72}
15:57:02.653228: CLIENT 1: expecting {1, 77} reply, get {1, 73}
15:57:02.664076: CLIENT 1: expecting {1, 78} reply, get {1, 74}
15:57:02.675662: CLIENT 0: expecting {0, 97} reply, get {0, 95}
15:57:02.686883: CLIENT 1: expecting {1, 79} reply, get {1, 75}
15:57:02.697590: CLIENT 0: expecting {0, 98} reply, get {0, 96}
15:57:02.708302: CLIENT 1: expecting {1, 80} reply, get {1, 76}
15:57:02.719498: CLIENT 0: expecting {0, 99} reply, get {0, 97}
15:57:02.730418: CLIENT 1: expecting {1, 81} reply, get {1, 77}
15:57:02.741161: CLIENT 1: expecting {1, 82} reply, get {1, 78}
15:57:02.752462: CLIENT 1: expecting {1, 83} reply, get {1, 79}
15:57:02.763211: CLIENT 0: expecting {0, 100} reply, get {0, 98}
HALT: monitor: Client 0 going to sleep, sent = 100
15:57:02.774264: CLIENT 1: expecting {1, 84} reply, get {1, 80}
15:57:02.796420: CLIENT 1: expecting {1, 85} reply, get {1, 81}
15:57:02.818376: CLIENT 1: expecting {1, 86} reply, get {1, 82}
15:57:02.829311: CLIENT 1: expecting {1, 87} reply, get {1, 83}
15:57:02.840582: CLIENT 1: expecting {1, 88} reply, get {1, 84}
15:57:02.851259: CLIENT 1: expecting {1, 89} reply, get {1, 85}
15:57:02.862460: CLIENT 1: expecting {1, 90} reply, get {1, 86}
15:57:02.873370: CLIENT 1: expecting {1, 91} reply, get {1, 87}
15:57:02.884345: CLIENT 1: expecting {1, 92} reply, get {1, 88}
15:57:02.895469: CLIENT 1: expecting {1, 93} reply, get {1, 89}
15:57:02.906588: CLIENT 1: expecting {1, 94} reply, get {1, 90}
15:57:02.917545: CLIENT 1: expecting {1, 95} reply, get {1, 91}
15:57:02.928398: CLIENT 1: expecting {1, 96} reply, get {1, 92}
15:57:02.939536: CLIENT 1: expecting {1, 97} reply, get {1, 93}
15:57:02.950391: CLIENT 1: expecting {1, 98} reply, get {1, 94}
15:57:02.961330: CLIENT 1: expecting {1, 99} reply, get {1, 95}
15:57:02.972532: CLIENT 1: expecting {1, 100} reply, get {1, 96}
HALT: monitor: Client 1 going to sleep, sent = 100
Exiting server3_54_jc5616@127.0.0.1
Exiting server1_54_jc5616@127.0.0.1
Exiting server2_54_jc5616@127.0.0.1
Exiting server4_54_jc5616@127.0.0.1
Exiting server0_54_jc5616@127.0.0.1
Exiting raft_54_jc5616@127.0.0.1
