mix deps.get
Resolving Hex dependencies...
Dependency resolution completed:
Unchanged:
  poison 3.1.0
All dependencies are up to date
mix compile

====RUNNNING WITH CONFIG====
%{append_entries_timeout: 10, client_requests: 100, client_sleep: 5, client_stop: 60000, client_timeout: 500, debug_level: 10, disasters: [%{id: 0, t: 0, type: "timeout"}, %{id: "leader", ref: "a", t: 1000, type: "offline"}, %{id: "leader", ref: "b", t: 1500, type: "crash"}, %{id: "leader", ref: "c", t: 2000, type: "offline"}, %{id: "b", t: 2500, type: "online"}], election_timeout: 100, max_amount: 1000, max_time: 10000, monitorP: #PID<0.178.0>, n_accounts: 100, n_clients: 0, n_servers: 5, node_suffix: "10_jc5616@127.0.0.1", print_after: 2000, raftP: #PID<0.98.0>, show_role_switch: true, show_server: false, start_function: :multi_node_start}
====   CONFIG    END   ====

Disaster reference name %{"leader" => nil}

15:56:14.271 [warn]  ** Can not start Client::start,[%{append_entries_timeout: 10, client_requests: 100, client_sleep: 5, client_stop: 60000, client_timeout: 500, debug_level: 10, disasters: [%{id: 0, t: 0, type: "timeout"}, %{id: "leader", ref: "a", t: 1000, type: "offline"}, %{id: "leader", ref: "b", t: 1500, type: "crash"}, %{id: "leader", ref: "c", t: 2000, type: "offline"}, %{id: "b", t: 2500, type: "online"}], election_timeout: 100, max_amount: 1000, max_time: 10000, monitorP: #PID<0.178.0>, n_accounts: 100, n_clients: 0, n_servers: 5, node_suffix: "10_jc5616@127.0.0.1", print_after: 2000, raftP: #PID<0.98.0>, show_role_switch: true, show_server: false, start_function: :multi_node_start}, -1, [#PID<17594.183.0>, #PID<17676.183.0>, #PID<17677.183.0>, #PID<17678.183.0>, #PID<17679.183.0>]] on :"client-1_10_jc5616@127.0.0.1" **


15:56:14.271 [warn]  ** Can not start Client::start,[%{append_entries_timeout: 10, client_requests: 100, client_sleep: 5, client_stop: 60000, client_timeout: 500, debug_level: 10, disasters: [%{id: 0, t: 0, type: "timeout"}, %{id: "leader", ref: "a", t: 1000, type: "offline"}, %{id: "leader", ref: "b", t: 1500, type: "crash"}, %{id: "leader", ref: "c", t: 2000, type: "offline"}, %{id: "b", t: 2500, type: "online"}], election_timeout: 100, max_amount: 1000, max_time: 10000, monitorP: #PID<0.178.0>, n_accounts: 100, n_clients: 0, n_servers: 5, node_suffix: "10_jc5616@127.0.0.1", print_after: 2000, raftP: #PID<0.98.0>, show_role_switch: true, show_server: false, start_function: :multi_node_start}, 0, [#PID<17594.183.0>, #PID<17676.183.0>, #PID<17677.183.0>, #PID<17678.183.0>, #PID<17679.183.0>]] on :"client0_10_jc5616@127.0.0.1" **

15:56:14.277650: 0_FOLLOWER@1: switched to FOLLOWER
15:56:14.278210: 0_FOLLOWER@0: switched to FOLLOWER
15:56:14.277741: 0_FOLLOWER@3: switched to FOLLOWER
15:56:14.278582: 0_FOLLOWER@2: switched to FOLLOWER
15:56:14.279522: 0_FOLLOWER@4: switched to FOLLOWER
15:56:14.280999: 0_FOLLOWER@0: AFFECTED BY timeout
15:56:14.282429: 1_CANDIDATE@0: switched to CANDIDATE
15:56:14.282498: 1_CANDIDATE@0: vote request from 0, true,  -> 0
15:56:14.297893: 0_FOLLOWER@4: Higher term found {:VOTE_REQUEST, %{candidateId: 0, lastLogIndex: 0, lastLogTerm: 0, term: 1}}
15:56:14.298118: 1_FOLLOWER@4: give will: {:VOTE_REQUEST, %{candidateId: 0, lastLogIndex: 0, lastLogTerm: 0, term: 1}}
15:56:14.298257: 1_FOLLOWER@4: switched to FOLLOWER
15:56:14.298365: 1_FOLLOWER@4: vote request from 0, true,  -> 0
15:56:14.299539: 0_FOLLOWER@1: Higher term found {:VOTE_REQUEST, %{candidateId: 0, lastLogIndex: 0, lastLogTerm: 0, term: 1}}
15:56:14.299672: 1_FOLLOWER@1: give will: {:VOTE_REQUEST, %{candidateId: 0, lastLogIndex: 0, lastLogTerm: 0, term: 1}}
15:56:14.299740: 1_FOLLOWER@1: switched to FOLLOWER
15:56:14.299799: 1_FOLLOWER@1: vote request from 0, true,  -> 0
15:56:14.301305: 0_FOLLOWER@3: Higher term found {:VOTE_REQUEST, %{candidateId: 0, lastLogIndex: 0, lastLogTerm: 0, term: 1}}
15:56:14.301433: 1_FOLLOWER@3: give will: {:VOTE_REQUEST, %{candidateId: 0, lastLogIndex: 0, lastLogTerm: 0, term: 1}}
15:56:14.301505: 1_FOLLOWER@3: switched to FOLLOWER
15:56:14.301580: 1_FOLLOWER@3: vote request from 0, true,  -> 0
15:56:14.301832: 0_FOLLOWER@2: Higher term found {:VOTE_REQUEST, %{candidateId: 0, lastLogIndex: 0, lastLogTerm: 0, term: 1}}
15:56:14.301980: 1_FOLLOWER@2: give will: {:VOTE_REQUEST, %{candidateId: 0, lastLogIndex: 0, lastLogTerm: 0, term: 1}}
15:56:14.302042: 1_FOLLOWER@2: switched to FOLLOWER
15:56:14.302090: 1_FOLLOWER@2: vote request from 0, true,  -> 0
15:56:14.302257: 1_LEADER@0: switched to LEADER
Disaster reference name %{"leader" => 0}
Disaster reference name %{"a" => 0, "leader" => 0}
15:56:15.269857: 1_LEADER@0: AFFECTED BY offline
15:56:15.373676: 2_CANDIDATE@3: switched to CANDIDATE
15:56:15.373712: 2_CANDIDATE@1: switched to CANDIDATE
15:56:15.374993: 2_CANDIDATE@1: vote request from 1, true,  -> 1
15:56:15.374207: 1_FOLLOWER@4: Higher term found {:VOTE_REQUEST, %{candidateId: 3, lastLogIndex: 0, lastLogTerm: 0, term: 2}}
15:56:15.374211: 1_FOLLOWER@2: Higher term found {:VOTE_REQUEST, %{candidateId: 3, lastLogIndex: 0, lastLogTerm: 0, term: 2}}
15:56:15.374931: 2_CANDIDATE@3: vote request from 3, true,  -> 3
15:56:15.375522: 2_FOLLOWER@4: give will: {:VOTE_REQUEST, %{candidateId: 1, lastLogIndex: 0, lastLogTerm: 0, term: 2}}
15:56:15.375543: 2_FOLLOWER@2: give will: {:VOTE_REQUEST, %{candidateId: 1, lastLogIndex: 0, lastLogTerm: 0, term: 2}}
15:56:15.375667: 2_FOLLOWER@2: give will: {:VOTE_REQUEST, %{candidateId: 3, lastLogIndex: 0, lastLogTerm: 0, term: 2}}
15:56:15.375671: 2_FOLLOWER@4: give will: {:VOTE_REQUEST, %{candidateId: 3, lastLogIndex: 0, lastLogTerm: 0, term: 2}}
15:56:15.375770: 2_FOLLOWER@2: switched to FOLLOWER
15:56:15.375772: 2_FOLLOWER@4: switched to FOLLOWER
15:56:15.375845: 2_FOLLOWER@2: vote request from 1, true,  -> 1
15:56:15.375857: 2_FOLLOWER@4: vote request from 1, true,  -> 1
15:56:15.377902: 2_LEADER@1: switched to LEADER
Disaster reference name %{"a" => 0, "leader" => 1}
15:56:15.378153: 2_FOLLOWER@3: give will: {:APE_REQUEST, %{entries: [], leaderCommit: 0, leaderId: 1, prevLogIndex: 0, prevLogTerm: 0, term: 2}}
15:56:15.378254: 2_FOLLOWER@3: switched to FOLLOWER
Disaster reference name %{"a" => 0, "b" => 1, "leader" => 1}
15:56:15.773768: 2_LEADER@1: AFFECTED BY crash
15:56:15.774297: DATABASE@1: restart due to diaster crash happened to server, wipeed storage
15:56:15.920429: 3_CANDIDATE@4: switched to CANDIDATE
15:56:15.920935: 3_CANDIDATE@4: vote request from 4, true,  -> 4
15:56:15.920916: 2_FOLLOWER@3: Higher term found {:VOTE_REQUEST, %{candidateId: 4, lastLogIndex: 0, lastLogTerm: 0, term: 3}}
15:56:15.921015: 2_FOLLOWER@2: Higher term found {:VOTE_REQUEST, %{candidateId: 4, lastLogIndex: 0, lastLogTerm: 0, term: 3}}
15:56:15.921622: 3_FOLLOWER@2: give will: {:VOTE_REQUEST, %{candidateId: 4, lastLogIndex: 0, lastLogTerm: 0, term: 3}}
15:56:15.921630: 3_FOLLOWER@3: give will: {:VOTE_REQUEST, %{candidateId: 4, lastLogIndex: 0, lastLogTerm: 0, term: 3}}
15:56:15.921720: 3_FOLLOWER@3: switched to FOLLOWER
15:56:15.921734: 3_FOLLOWER@2: switched to FOLLOWER
15:56:15.921813: 3_FOLLOWER@3: vote request from 4, true,  -> 4
15:56:15.921856: 3_FOLLOWER@2: vote request from 4, true,  -> 4
15:56:15.923983: 3_LEADER@4: switched to LEADER
Disaster reference name %{"a" => 0, "b" => 1, "leader" => 4}
time = 2000      db updates done = []
time = 2000 client requests seen = [], (when the node was leader)
time = 2000        server roles  = %{0 => {1, :LEADER}, 1 => {2, :LEADER}, 2 => {3, :FOLLOWER}, 3 => {3, :FOLLOWER}, 4 => {3, :LEADER}}
time = 2000           total seen = 0 max lag = 0
Disaster reference name %{"a" => 0, "b" => 1, "c" => 4, "leader" => 4}
15:56:16.273357: 3_LEADER@4: AFFECTED BY offline
15:56:16.463099: 4_CANDIDATE@3: switched to CANDIDATE
15:56:16.463668: 4_CANDIDATE@3: vote request from 3, true,  -> 3
15:56:16.463635: 3_FOLLOWER@2: Higher term found {:VOTE_REQUEST, %{candidateId: 3, lastLogIndex: 0, lastLogTerm: 0, term: 4}}
15:56:16.464445: 4_FOLLOWER@2: give will: {:VOTE_REQUEST, %{candidateId: 3, lastLogIndex: 0, lastLogTerm: 0, term: 4}}
15:56:16.464973: 4_FOLLOWER@2: switched to FOLLOWER
15:56:16.465529: 4_FOLLOWER@2: vote request from 3, true,  -> 3
15:56:16.648007: 5_CANDIDATE@2: switched to CANDIDATE
15:56:16.648512: 4_CANDIDATE@3: Higher term found {:VOTE_REQUEST, %{candidateId: 2, lastLogIndex: 0, lastLogTerm: 0, term: 5}}
15:56:16.648613: 5_CANDIDATE@2: vote request from 2, true,  -> 2
15:56:16.649056: 5_FOLLOWER@3: give will: {:VOTE_REQUEST, %{candidateId: 2, lastLogIndex: 0, lastLogTerm: 0, term: 5}}
15:56:16.649539: 5_FOLLOWER@3: switched to FOLLOWER
15:56:16.650113: 5_FOLLOWER@3: vote request from 2, true,  -> 2
15:56:16.754912: 6_CANDIDATE@3: switched to CANDIDATE
15:56:16.755572: 5_CANDIDATE@2: Higher term found {:VOTE_REQUEST, %{candidateId: 3, lastLogIndex: 0, lastLogTerm: 0, term: 6}}
15:56:16.755605: 6_CANDIDATE@3: vote request from 3, true,  -> 3
15:56:16.756286: 6_FOLLOWER@2: give will: {:VOTE_REQUEST, %{candidateId: 3, lastLogIndex: 0, lastLogTerm: 0, term: 6}}
15:56:16.756691: 6_FOLLOWER@2: switched to FOLLOWER
15:56:16.757168: 6_FOLLOWER@2: vote request from 3, true,  -> 3
Disaster reference name %{"a" => 0, "b" => 1, "c" => 4, "leader" => 4}
15:56:16.770083: 0_FOLLOWER@1: AFFECTED BY online
15:56:16.770657: 0_FOLLOWER@1: switched to FOLLOWER
15:56:16.876442: 1_CANDIDATE@1: switched to CANDIDATE
15:56:16.877092: 1_CANDIDATE@1: vote request from 1, true,  -> 1
15:56:16.877707: 1_CANDIDATE@1: Higher term found {:VOTE_REPLY, %{term: 6, voteGranted: false}}
15:56:16.878592: 6_FOLLOWER@1: switched to FOLLOWER
15:56:16.902129: 7_CANDIDATE@3: switched to CANDIDATE
15:56:16.902637: 7_CANDIDATE@3: vote request from 3, true,  -> 3
15:56:16.902707: 6_FOLLOWER@2: Higher term found {:VOTE_REQUEST, %{candidateId: 3, lastLogIndex: 0, lastLogTerm: 0, term: 7}}
15:56:16.902755: 6_FOLLOWER@1: Higher term found {:VOTE_REQUEST, %{candidateId: 3, lastLogIndex: 0, lastLogTerm: 0, term: 7}}
15:56:16.903648: 7_FOLLOWER@1: give will: {:VOTE_REQUEST, %{candidateId: 3, lastLogIndex: 0, lastLogTerm: 0, term: 7}}
15:56:16.903657: 7_FOLLOWER@2: give will: {:VOTE_REQUEST, %{candidateId: 3, lastLogIndex: 0, lastLogTerm: 0, term: 7}}
15:56:16.904197: 7_FOLLOWER@1: switched to FOLLOWER
15:56:16.904335: 7_FOLLOWER@2: switched to FOLLOWER
15:56:16.904644: 7_FOLLOWER@1: vote request from 3, true,  -> 3
15:56:16.904679: 7_FOLLOWER@2: vote request from 3, true,  -> 3
15:56:16.911551: 7_LEADER@3: switched to LEADER
Disaster reference name %{"a" => 0, "b" => 1, "c" => 4, "leader" => 3}
time = 4000      db updates done = []
time = 4000 client requests seen = [], (when the node was leader)
time = 4000        server roles  = %{0 => {1, :LEADER}, 1 => {7, :FOLLOWER}, 2 => {7, :FOLLOWER}, 3 => {7, :LEADER}, 4 => {3, :LEADER}}
time = 4000           total seen = 0 max lag = 0
time = 6000      db updates done = []
time = 6000 client requests seen = [], (when the node was leader)
time = 6000        server roles  = %{0 => {1, :LEADER}, 1 => {7, :FOLLOWER}, 2 => {7, :FOLLOWER}, 3 => {7, :LEADER}, 4 => {3, :LEADER}}
time = 6000           total seen = 0 max lag = 0
time = 8000      db updates done = []
time = 8000 client requests seen = [], (when the node was leader)
time = 8000        server roles  = %{0 => {1, :LEADER}, 1 => {7, :FOLLOWER}, 2 => {7, :FOLLOWER}, 3 => {7, :LEADER}, 4 => {3, :LEADER}}
time = 8000           total seen = 0 max lag = 0
Exiting server4_10_jc5616@127.0.0.1
Exiting server3_10_jc5616@127.0.0.1
Exiting server0_10_jc5616@127.0.0.1
Exiting server2_10_jc5616@127.0.0.1
Exiting server1_10_jc5616@127.0.0.1
Exiting raft_10_jc5616@127.0.0.1
time = 10000      db updates done = []
time = 10000 client requests seen = [], (when the node was leader)
time = 10000        server roles  = %{0 => {1, :LEADER}, 1 => {7, :FOLLOWER}, 2 => {7, :FOLLOWER}, 3 => {7, :LEADER}, 4 => {3, :LEADER}}
time = 10000           total seen = 0 max lag = 0
